## Декомпозиция антифрод‑системы

### 1. Сбор и хранение данных
- Интеграция с текущими CSV батчами (исторические данные) и онлайном.
- Объектное хранилище для сырых данных (Raw), слой очищенных (Clean), слой фич (Features).
- Каталог данных и схемы, контроль качества (DQ checks).

### 2. Обработка и фичеинжиниринг
- Парсинг CSV, нормализация, дедупликация, псевдонимизация PII.
- Фичи: поведенческие (частота, суммы, время суток), устройство/гео, аномалии, сетевые признаки (графовые), агрегаты по пользователю/мерчанту.
- Фичестор с online/offline консистентностью.

### 3. Моделирование
- Базовые модели: градиентный бустинг (XGBoost/LightGBM, CatBoost) + калибровка.
- Альтернативы: изоляционный лес/one‑class, нейросети для последовательностей.
- Обучение с учётом дисбаланса, оптимизация порога под FPR≤5%, cost‑sensitive loss.
- Валидация: time‑series split, backtesting, leakage‑checks.

### 4. Сервинг (онлайн‑скоринг)
- Синхронный API: REST/gRPC, p95 ≤ 100–150 мс.
- Кеширование фич, запросы в feature store, порог‑логика, причины/факторы решения (explanations).
- Варианты ответов: approve/decline/review, маршрутизация на ручную проверку.

### 5. Мониторинг и алертинг
- Тех: latency, ошибки, нагрузка.
- Качество: drift (данные/признаки/скор), stability, alert‑пороговые.
- Бизнес: FP‑rate, FN‑rate, EMV, ущерб.

### 6. Контур экспериментов
- Shadow traffic, A/B тесты, канареечные релизы.
- Сбор фидбека/меток из chargeback/оспариваний.

### 7. Безопасность и соответствие
- PII: шифрование, KMS, приватные сети, RBAC, секрет‑менеджмент.
- Логи с исключением чувствительных полей, маскирование, DLP.

### 8. CI/CD и управление артефактами
- MLFlow model registry, версионирование датасетов/фич.
- Автоматизация сборки/тестов, линтеры, сканирование уязвимостей.

### 9. Производительность и стоимость
- Авто‑скейлинг, вертикальный/горизонтальный.
- Профилирование и нагрузочные тесты.
- Бюджетные лимиты/алерты по костам, FinOps.


